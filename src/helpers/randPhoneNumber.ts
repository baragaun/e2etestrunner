const samplePhoneNumbers = [
  '+12012707835',
  '+12052342549',
  '+12066390520',
  '+12076431751',
  '+12124109666',
  '+12127454805',
  '+12128940241',
  '+12174816472',
  '+12197945046',
  '+12249005597',
  '+12297755536',
  '+12392547662',
  '+12406688065',
  '+12484104252',
  '+12487487338',
  '+12567956319',
  '+12697427422',
  '+12817089383',
  '+13019919280',
  '+13036095039',
  '+13053934389',
  '+13072378175',
  '+13075787009',
  '+13082177336',
  '+13109073939',
  '+13124132520',
  '+13144372279',
  '+13155397507',
  '+13189071600',
  '+13192427009',
  '+13237179125',
  '+13305388481',
  '+13308124866',
  '+13309895393',
  '+13314623414',
  '+14026970703',
  '+14029084371',
  '+14063828324',
  '+14079247985',
  '+14084930264',
  '+14106888783',
  '+14123041350',
  '+14176477512',
  '+14435377517',
  '+15074747307',
  '+15078368295',
  '+15084936076',
  '+15104352916',
  '+15205441607',
  '+15593584127',
  '+15619213344',
  '+15703926224',
  '+15732481881',
  '+15745757206',
  '+15748310016',
  '+16014325064',
  '+16053795017',
  '+16057252242',
  '+16074637646',
  '+16098900036',
  '+16099818906',
  '+16192296478',
  '+16203214501',
  '+16302521322',
  '+16316960583',
  '+16465860841',
  '+16605296516',
  '+17027325308',
  '+17035145293',
  '+17036186644',
  '+17036871266',
  '+17038015905',
  '+17039410116',
  '+17044883483',
  '+17073387791',
  '+17078968525',
  '+17089960127',
  '+17153233237',
  '+17155876973',
  '+17158793677',
  '+17203674174',
  '+17208825377',
  '+17578855845',
  '+17607192870',
  '+17692248703',
  '+17743689286',
  '+17752725233',
  '+17817366485',
  '+17862847113',
  '+17878416684',
  '+18015127468',
  '+18144972392',
  '+18146178077',
  '+18149019188',
  '+18164139761',
  '+18165376386',
  '+18167260964',
  '+18185043409',
  '+18285827723',
  '+18326562969',
  '+18477712106',
  '+18502431804',
  '+18505259191',
  '+18572190525',
  '+18644949154',
  '+18706654600',
  '+19035220383',
  '+19094837772',
  '+19096346902',
  '+19168590263',
  '+19198713274',
  '+19202525767',
  '+19374030399',
  '+19528301796',
  '+19709498105',
  '+19723484301',
  '+19857130171',
  '+19896124653',
  '+19898472639',
  '+19898797766',
]

let available: string[] | undefined

// see https://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array
const shuffle = (a: string[]): string[] => {
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]]
  }
  return a
}

export const reset = (): void => {
  available = shuffle(samplePhoneNumbers.slice(0))
}

export default (): string | undefined => {
  if (!available || available.length < 1) {
    reset()
    return available?.pop()
  }
  return available.pop()
}
